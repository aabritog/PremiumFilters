<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Catalogo</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/main.css">

         <!--Etiquetas Íconos IPHONE IPAD-->

                  <!-- Set Up the App Icon -->

                <link rel="apple-touch-icon" href="img/apple/icon5757.png">

                <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple/touch-icon-ipad-retina.png" />

                <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple/apple-touch-icon.png">

                <!-- Load It Like A Native App -->

                <meta name="apple-touch-fullscreen" content="yes">

                <meta name="apple-mobile-web-app-capable" content="yes">

                <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

                <!-- Customize the Startup Screen -->

                <link rel="apple-touch-startup-image" href="img/apple/320x460.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)">

                <link rel="apple-touch-startup-image" href="img/apple/640x920.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">

                <link rel="apple-touch-startup-image" href="img/apple/640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">

                <link rel="apple-touch-startup-image" href="img/apple/768x1004.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)">

                <link rel="apple-touch-startup-image" href="img/apple/748x1024.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)">

                <link rel="apple-touch-startup-image" href="img/apple/1536x2008.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)">

                <link rel="apple-touch-startup-image" href="img/apple/1496x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)">
                <!--Favicon Website-->

                <link rel="shortcut icon" href="favicon.ico" />


        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->        
    </head>
    <body>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">

            <ul class="sidebar-nav">
                <li><a href="#" id="botm"><img src="img/left-curse.svg"></a></li>
                <li><a href="#" title="Inicio">Inicio</a></li>
                <li><a href="#" title="Referencias nuevas">Referencias nuevas</a></li>
                <li><a href="#" title="Favoritos">Favoritos</a></li>
                <li><a href="#" title="Contáctenos">Contáctenos</a></li>
                <li><a href="#" title="Visitar el sitio web">Visitar el sitio web</a></li>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <header>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1">
                            <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
                                <span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
                            </a>
                        </div>
                        <div class="col-lg-2 col-lg-offset-4 col-md-2 col-md-offset-4 col-sm-3 col-sm-offset-4 col-xs-6 col-xs-offset-3">
                            <a href="#" title="logo aplicacion" id="logo"><img src="img/logo.svg"></a>
                        </div>
                    </div>
                </div>
            </header><!--end header-->

            <div class="section">
                <div class="container-fluid">
                <form id="frmCatalogo">
                <div class="form-group">
                <label style="color: #fff;" for="select1">Tipo Aplicaci&oacute;n:</label>
                    <select class="form-control" id="select1">
                        <option>Seleccione...</option>
                    </select>

                </div>
                <div class="form-group">
                <label style="color: #fff;" for="select2">Marca Veh&iacute;culo:</label>
                    <select class="form-control" id="select2">
                        <option>Seleccione...</option>
                    </select>

                </div>
                <div class="form-group">
                <label style="color: #fff;" for="select3">Modelo:</label>
                    <select class="form-control" id="select3">
                        <option>Seleccione...</option>
                    </select>

                </div>                

                </form>
                     <!-- <div class="row">
                            <div class="col-md-12">
                                <ul class="mainmenu">
                                    <li><a href="#" class="btn btn-primary btn-lg">Catalogo</a></li>
                                    <li><a href="#" class="btn btn-primary btn-lg">Fichas técnicas</a></li>
                                    <li><a href="#" class="btn btn-primary btn-lg">Contáctenos</a></li>
                                </ul>       
                            </div>
                       </div>-->
                </div>         
            </div><!--section-->

            <div class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <ul>
                                <li><a href="#" title="Facebook">Facebook</a></li>
                                <li><a href="#" title="Twitter">Twitter</a></li>
                                <li><a href="#" title="Youtube">Youtube</a></li>
                            </ul>
                        </div>
                    </div>
                </div>                
            </div><!--end footer-->

        </div>
        <!-- /#page-content-wrapper -->

    </div><!-- /#wrapper -->

    <!-- SCRIPT-->
    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="js/boostrap.js"></script>
    <script src="js/main.js"></script>

    </body>


<script>

$(document).ready(function () {

    var webMethodGetTipoAplicacion = "http://a21287345-001-site1.etempurl.com/WCFPremiumFilters.asmx/GetTipoAplicacion";
    var webMethodGetMarcaVehiculo="http://a21287345-001-site1.etempurl.com/WCFPremiumFilters.asmx/GetMarcaVehiculo";
    var webMethodGetModelo="http://a21287345-001-site1.etempurl.com/WCFPremiumFilters.asmx/GetModelo";

          //var parameters= "{'sCountry':'Polonia'}";
          
          //SI TIENE PARAMETROS ESTA ES LA MANERA DE PASARLOS
                /*var parameters = "{'idConcepto':'" + idConcepto + "','idConceptoRelacionado':'" + idConceptoRelacionado + "','idRelacion':'" + idRelacion + "','idCardinalidad':'" + idCardinalidad + "','idCardinalidadRelacionada':'" + idCardinalidadRelacionada + "','idOntologia':'" + idOntologia + "'}";*/
        //LLAMADO A JSON AJAX LIBRERIA DE JQUERY
        $.ajax({
                type: "POST",
                url: webMethodGetTipoAplicacion,
                //data: parameters,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: llenarTipoAplicacion,
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus + ": " + XMLHttpRequest.responseText);
                }
        });

    $("#select1").change(function(){
        var idTipoAplicacion = document.getElementById("select1").value;
        //console.log(idTipoAplicacion);
        var parametrosGetMarcaVehiculo="{'Id_TMk':'"+idTipoAplicacion+"'}";
        $.ajax({
                type: "POST",
                url: webMethodGetMarcaVehiculo,
                data: parametrosGetMarcaVehiculo,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: llenarMarcaVehiculo,
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus + ": " + XMLHttpRequest.responseText);
                }
        });
    });

    $("#select2").change(function(){
        var idMarcaVehiculo = document.getElementById("select2").value;
        //console.log(idMarcaVehiculo);
        var parametrosGetModelo = "{'Id_Mk':'"+ idMarcaVehiculo +"'}";
        $.ajax({
                type: "POST",
                url: webMethodGetModelo,
                data: parametrosGetModelo,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: llenarModelo,
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus + ": " + XMLHttpRequest.responseText);
                }
        });
    });    
});

function llenarTipoAplicacion(result) {
    
    var objJson = JSON.parse(result.d);
    var HtmltipoAplicacion;

    $.each(objJson, function (i, item) {
        //console.log(item.Id_TMk); 
        HtmltipoAplicacion = "<option value='" + item.Id_TMk + "'>" + item.TAplicacion + "</option>";
        $("#select1").append(HtmltipoAplicacion);
    });
}

function llenarMarcaVehiculo(result) {
    //console.log(result.d);
    var objJsonMarcaVehiculo = JSON.parse(result.d);
    var HtmlMarcaVehiculo;
    HtmlMarcaVehiculo = "<option value='#'>Seleccione...</option>";
    $.each(objJsonMarcaVehiculo, function (i, item) {
        //console.log(item.Id_TMk); 
        HtmlMarcaVehiculo += "<option value='" + item.Id_Mk + "'>" + item.Marca + "</option>";
        
    });
    $("#select2").html(HtmlMarcaVehiculo);
}

function llenarModelo(result) {
    //console.log(result.d);
    var objJsonModelo = JSON.parse(result.d);
    var HtmlModelo;
    HtmlModelo = "<option value='#'>Seleccione...</option>";
    $.each(objJsonModelo, function (i, item) {
        //console.log(item.Id_TMk); 
        HtmlModelo += "<option value='" + item.Id_RefMk + "'>" + item.Ref_Marca + "</option>";
        
    });
    $("#select3").html(HtmlModelo);
}
    
</script>

</html>
